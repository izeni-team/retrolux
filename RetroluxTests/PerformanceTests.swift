//
//  PerformanceTests.swift
//  RetroluxReflector
//
//  Created by Bryan Henderson on 3/30/17.
//  Copyright Â© 2017 Christopher Bryan Henderson. All rights reserved.
//

import Foundation
import Retrolux
import XCTest

class PerformanceTests: XCTestCase {
    class Nested: Reflection {
        @objc var a1 = 0; @objc var a2 = 0; @objc var a3 = 0; @objc var a4 = 0; @objc var a5 = 0; @objc var a6 = 0; @objc var a7 = 0; @objc var a8 = 0; @objc var a9 = 0; @objc var a10 = 0; @objc var a11 = 0; @objc var a12 = 0; @objc var a13 = 0; @objc var a14 = 0; @objc var a15 = 0; @objc var a16 = 0; @objc var a17 = 0; @objc var a18 = 0; @objc var a19 = 0; @objc var a20 = 0; @objc var a21 = 0; @objc var a22 = 0; @objc var a23 = 0; @objc var a24 = 0; @objc var a25 = 0; @objc var a26 = 0; @objc var a27 = 0; @objc var a28 = 0; @objc var a29 = 0; @objc var a30 = 0; @objc var a31 = 0; @objc var a32 = 0; @objc var a33 = 0; @objc var a34 = 0; @objc var a35 = 0; @objc var a36 = 0; @objc var a37 = 0; @objc var a38 = 0; @objc var a39 = 0; @objc var a40 = 0; @objc var a41 = 0; @objc var a42 = 0; @objc var a43 = 0; @objc var a44 = 0; @objc var a45 = 0; @objc var a46 = 0; @objc var a47 = 0; @objc var a48 = 0; @objc var a49 = 0; @objc var a50 = 0; @objc var a51 = 0; @objc var a52 = 0; @objc var a53 = 0; @objc var a54 = 0; @objc var a55 = 0; @objc var a56 = 0; @objc var a57 = 0; @objc var a58 = 0; @objc var a59 = 0; @objc var a60 = 0; @objc var a61 = 0; @objc var a62 = 0; @objc var a63 = 0; @objc var a64 = 0; @objc var a65 = 0; @objc var a66 = 0; @objc var a67 = 0; @objc var a68 = 0; @objc var a69 = 0; @objc var a70 = 0; @objc var a71 = 0; @objc var a72 = 0; @objc var a73 = 0; @objc var a74 = 0; @objc var a75 = 0; @objc var a76 = 0; @objc var a77 = 0; @objc var a78 = 0; @objc var a79 = 0; @objc var a80 = 0; @objc var a81 = 0; @objc var a82 = 0; @objc var a83 = 0; @objc var a84 = 0; @objc var a85 = 0; @objc var a86 = 0; @objc var a87 = 0; @objc var a88 = 0; @objc var a89 = 0; @objc var a90 = 0; @objc var a91 = 0; @objc var a92 = 0; @objc var a93 = 0; @objc var a94 = 0; @objc var a95 = 0; @objc var a96 = 0; @objc var a97 = 0; @objc var a98 = 0; @objc var a99 = 0; @objc var a100 = 0;
        
        @objc var a101 = ""; @objc var a102 = ""; @objc var a103 = ""; @objc var a104 = ""; @objc var a105 = ""; @objc var a106 = ""; @objc var a107 = ""; @objc var a108 = ""; @objc var a109 = ""; @objc var a110 = ""; @objc var a111 = ""; @objc var a112 = ""; @objc var a113 = ""; @objc var a114 = ""; @objc var a115 = ""; @objc var a116 = ""; @objc var a117 = ""; @objc var a118 = ""; @objc var a119 = ""; @objc var a120 = ""; @objc var a121 = ""; @objc var a122 = ""; @objc var a123 = ""; @objc var a124 = ""; @objc var a125 = ""; @objc var a126 = ""; @objc var a127 = ""; @objc var a128 = ""; @objc var a129 = ""; @objc var a130 = ""; @objc var a131 = ""; @objc var a132 = ""; @objc var a133 = ""; @objc var a134 = ""; @objc var a135 = ""; @objc var a136 = ""; @objc var a137 = ""; @objc var a138 = ""; @objc var a139 = ""; @objc var a140 = ""; @objc var a141 = ""; @objc var a142 = ""; @objc var a143 = ""; @objc var a144 = ""; @objc var a145 = ""; @objc var a146 = ""; @objc var a147 = ""; @objc var a148 = ""; @objc var a149 = ""; @objc var a150 = ""; @objc var a151 = ""; @objc var a152 = ""; @objc var a153 = ""; @objc var a154 = ""; @objc var a155 = ""; @objc var a156 = ""; @objc var a157 = ""; @objc var a158 = ""; @objc var a159 = ""; @objc var a160 = ""; @objc var a161 = ""; @objc var a162 = ""; @objc var a163 = ""; @objc var a164 = ""; @objc var a165 = ""; @objc var a166 = ""; @objc var a167 = ""; @objc var a168 = ""; @objc var a169 = ""; @objc var a170 = ""; @objc var a171 = ""; @objc var a172 = ""; @objc var a173 = ""; @objc var a174 = ""; @objc var a175 = ""; @objc var a176 = ""; @objc var a177 = ""; @objc var a178 = ""; @objc var a179 = ""; @objc var a180 = ""; @objc var a181 = ""; @objc var a182 = ""; @objc var a183 = ""; @objc var a184 = ""; @objc var a185 = ""; @objc var a186 = ""; @objc var a187 = ""; @objc var a188 = ""; @objc var a189 = ""; @objc var a190 = ""; @objc var a191 = ""; @objc var a192 = ""; @objc var a193 = ""; @objc var a194 = ""; @objc var a195 = ""; @objc var a196 = ""; @objc var a197 = ""; @objc var a198 = ""; @objc var a199 = ""; @objc var a200 = "";
        
        @objc var a201: Nested?; @objc var a202: Nested?; @objc var a203: Nested?; @objc var a204: Nested?; @objc var a205: Nested?; @objc var a206: Nested?; @objc var a207: Nested?; @objc var a208: Nested?; @objc var a209: Nested?; @objc var a210: Nested?; @objc var a211: Nested?; @objc var a212: Nested?; @objc var a213: Nested?; @objc var a214: Nested?; @objc var a215: Nested?; @objc var a216: Nested?; @objc var a217: Nested?; @objc var a218: Nested?; @objc var a219: Nested?; @objc var a220: Nested?; @objc var a221: Nested?; @objc var a222: Nested?; @objc var a223: Nested?; @objc var a224: Nested?; @objc var a225: Nested?; @objc var a226: Nested?; @objc var a227: Nested?; @objc var a228: Nested?; @objc var a229: Nested?; @objc var a230: Nested?; @objc var a231: Nested?; @objc var a232: Nested?; @objc var a233: Nested?; @objc var a234: Nested?; @objc var a235: Nested?; @objc var a236: Nested?; @objc var a237: Nested?; @objc var a238: Nested?; @objc var a239: Nested?; @objc var a240: Nested?; @objc var a241: Nested?; @objc var a242: Nested?; @objc var a243: Nested?; @objc var a244: Nested?; @objc var a245: Nested?; @objc var a246: Nested?; @objc var a247: Nested?; @objc var a248: Nested?; @objc var a249: Nested?; @objc var a250: Nested?; @objc var a251: Nested?; @objc var a252: Nested?; @objc var a253: Nested?; @objc var a254: Nested?; @objc var a255: Nested?; @objc var a256: Nested?; @objc var a257: Nested?; @objc var a258: Nested?; @objc var a259: Nested?; @objc var a260: Nested?; @objc var a261: Nested?; @objc var a262: Nested?; @objc var a263: Nested?; @objc var a264: Nested?; @objc var a265: Nested?; @objc var a266: Nested?; @objc var a267: Nested?; @objc var a268: Nested?; @objc var a269: Nested?; @objc var a270: Nested?; @objc var a271: Nested?; @objc var a272: Nested?; @objc var a273: Nested?; @objc var a274: Nested?; @objc var a275: Nested?; @objc var a276: Nested?; @objc var a277: Nested?; @objc var a278: Nested?; @objc var a279: Nested?; @objc var a280: Nested?; @objc var a281: Nested?; @objc var a282: Nested?; @objc var a283: Nested?; @objc var a284: Nested?; @objc var a285: Nested?; @objc var a286: Nested?; @objc var a287: Nested?; @objc var a288: Nested?; @objc var a289: Nested?; @objc var a290: Nested?; @objc var a291: Nested?; @objc var a292: Nested?; @objc var a293: Nested?; @objc var a294: Nested?; @objc var a295: Nested?; @objc var a296: Nested?; @objc var a297: Nested?; @objc var a298: Nested?; @objc var a299: Nested?; @objc var a300: Nested?;
    }
    
    class LargeClass: Nested {
        @objc var a301: Nested?; @objc var a302: Nested?; @objc var a303: Nested?; @objc var a304: Nested?; @objc var a305: Nested?; @objc var a306: Nested?; @objc var a307: Nested?; @objc var a308: Nested?; @objc var a309: Nested?; @objc var a310: Nested?; @objc var a311: Nested?; @objc var a312: Nested?; @objc var a313: Nested?; @objc var a314: Nested?; @objc var a315: Nested?; @objc var a316: Nested?; @objc var a317: Nested?; @objc var a318: Nested?; @objc var a319: Nested?; @objc var a320: Nested?; @objc var a321: Nested?; @objc var a322: Nested?; @objc var a323: Nested?; @objc var a324: Nested?; @objc var a325: Nested?; @objc var a326: Nested?; @objc var a327: Nested?; @objc var a328: Nested?; @objc var a329: Nested?; @objc var a330: Nested?; @objc var a331: Nested?; @objc var a332: Nested?; @objc var a333: Nested?; @objc var a334: Nested?; @objc var a335: Nested?; @objc var a336: Nested?; @objc var a337: Nested?; @objc var a338: Nested?; @objc var a339: Nested?; @objc var a340: Nested?; @objc var a341: Nested?; @objc var a342: Nested?; @objc var a343: Nested?; @objc var a344: Nested?; @objc var a345: Nested?; @objc var a346: Nested?; @objc var a347: Nested?; @objc var a348: Nested?; @objc var a349: Nested?; @objc var a350: Nested?; @objc var a351: Nested?; @objc var a352: Nested?; @objc var a353: Nested?; @objc var a354: Nested?; @objc var a355: Nested?; @objc var a356: Nested?; @objc var a357: Nested?; @objc var a358: Nested?; @objc var a359: Nested?; @objc var a360: Nested?; @objc var a361: Nested?; @objc var a362: Nested?; @objc var a363: Nested?; @objc var a364: Nested?; @objc var a365: Nested?; @objc var a366: Nested?; @objc var a367: Nested?; @objc var a368: Nested?; @objc var a369: Nested?; @objc var a370: Nested?; @objc var a371: Nested?; @objc var a372: Nested?; @objc var a373: Nested?; @objc var a374: Nested?; @objc var a375: Nested?; @objc var a376: Nested?; @objc var a377: Nested?; @objc var a378: Nested?; @objc var a379: Nested?; @objc var a380: Nested?; @objc var a381: Nested?; @objc var a382: Nested?; @objc var a383: Nested?; @objc var a384: Nested?; @objc var a385: Nested?; @objc var a386: Nested?; @objc var a387: Nested?; @objc var a388: Nested?; @objc var a389: Nested?; @objc var a390: Nested?; @objc var a391: Nested?; @objc var a392: Nested?; @objc var a393: Nested?; @objc var a394: Nested?; @objc var a395: Nested?; @objc var a396: Nested?; @objc var a397: Nested?; @objc var a398: Nested?; @objc var a399: Nested?; @objc var a400: Nested?;
    }
    
    func testReflectPerformance() {
        measure {
            for _ in 1...20 {
                let reflector = Reflector()
                let instance = LargeClass()
                do {
                    _ = try reflector.reflect(instance)
                } catch {
                    XCTFail("Reflection failed with error: \(error)")
                }
            }
        }
    }
}
